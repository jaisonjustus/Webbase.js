<html>
    <head>
    	<title>Webbase testing</title>
	</head>
	<body>

		<h1> Webbase Testing file</h1>
		<h3> Output on console</h3>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
		<script type="text/javascript" src="../webbase-1.0.0.js"></script>
		<script type="text/javascript">
			
			// Enabling Debugging;
			console.log('>>> Debugging Webbase.js : '+ new Date() +' <<< ');
			Webbase.Storage.debug(true);

			// Creating Tables
			Webbase.Storage.create('student',{
				id : 'number',
				name : 'string',
				marks : 'number'
			},'id');

			Webbase.Storage.create('student2',{
				id : 'foo'
			});

			Webbase.Storage.create('marks',{
				id : 'number',
				english : 'number',
				maths : 'number'
			},'id');
			
			Webbase.Storage.create('extra',{
				id : 'number',
				credit : 'number'
			},'id');

			Webbase.Storage.create('tbl_contact',{
				id: 'number',
				number : 'number'
			},'id');

			// Adding values for Jaison;
			Webbase.Storage.insert('student',{ id : 5225, name : "Jaison", marks : 53 });
			Webbase.Storage.insert('student',{ id : 5225, name : "hello", marks : 53 })
			Webbase.Storage.insert('marks',{ id: 5225, english : 40, maths : 30	});
            Webbase.Storage.insert('extra',{id: 5225, credit : 103 });
            Webbase.Storage.insert('tbl_contact',{ id : 5225, number : 9495005949 });

            // Adding values for Edwin;
            Webbase.Storage.insert('student',{ id : 5222, name : "Edwin", marks : 43 });
			Webbase.Storage.insert('marks',{ id: 5222, english : 50, maths : 40	});
			Webbase.Storage.insert('extra',{id: 5222, credit : 102 });
			Webbase.Storage.insert('tbl_contact',{ id : 5222, number : 9446006449 });
            
            // Adding values for Joshy;
            Webbase.Storage.insert('student',{ id : 5228, name : "joshy", marks : 33 });
			Webbase.Storage.insert('marks',{id: 5228, english : 60, maths : 50 });
			Webbase.Storage.insert('extra',{id: 5228, credit : 101 });
			Webbase.Storage.insert('tbl_contact',{ id : 5228, number : 9995005999 });
			

            // Webbase processing....;
            console.log("select * from student : ",Webbase.Storage.select('*').from('student').find());
            
            console.log("delete from student where id = 5225");
            Webbase.Storage.from('student').where("{id} == 5225").delete();

            console.log("update set marks = 100 where id = 5222");
            Webbase.Storage.from('student').set({marks : 100}).where('{id} == 5222 || {id} == 5225').update();

            console.log("select name,marks from student where marks > 40 and mark < 60 and id >= 5225 : ",Webbase.Storage.select('name,marks').from('student').where('{marks} > 40 && {marks} < 60 && {id} >= 5225').find());
			
            console.log('Join function ',Webbase.Storage.select('name,marks,marks_english,marks_maths,extra_credit,tbl_contact_number').join('student.marks.extra.tbl_contact').where('{marks} > 20 && {marks} < 60').find());

		</script>
	</body>
</html>
